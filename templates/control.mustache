<!doctype html>
<html>
  <head>
    <title>Control Panel - {{title}}</title>
    <link href="assets/bootstrap/css/bootstrap.css" rel="stylesheet">
    <link href="assets/global.css" rel="stylesheet">
    <link href="assets/global.css" rel="stylesheet">
  </head>
  <body>
    <div id="container">
      <h1 class="main-title h1">Control Panel</h1>
      <form id="basic-info" action="/changebasic" method="POST">
        <legend>CTF Info</legend>
        <fieldset>
          <label for="identification-field">Identification Type</label>
          <input name="identification-field" type="text" 
                 value="{{identification}}" />
          <label for="title-field">Contest Title</label>
          <input name="title-field" type="text" value="{{title}}" />
          <br />
          <button type="submit" class="btn">Save</button>
        </fieldset>
      </form>
      <div id="challenges">
        <legend>Challenges</legend>
        <table>
          {{#challenges}}
          <tr><td>
            <form action="/changechal" method="POST" class="form-horizontal">
              <input type="hidden" name="name" value="{{name}}" />
              <div class="control-group">
                <label class="control-label" for="challenge-name">Name</label>
                <div class="controls">
                  <input name="challenge-name" value="{{name}}" type="text" />
                </div>
              </div>
              <div class="control-group">
                <label class="control-label" for="challenge-body">Body</label>
                <div class="controls">
                  <textarea name="challenge-body">{{body}}</textarea>
                </div>
              </div>
              <div class="control-group">
                <label class="control-label" for="challenge-hash">
                  Answer SHA1
                </label>
                <div class="controls">
                  <input name="challenge-hash" value="{{answerHash}}"
                         type="text" />
                </div>
              </div>
              <div class="control-group">
                <div class="controls">
                  <button type="button" class="btn" 
                          onclick="location='remove?name={{nameEscaped}}'">
                    Remove
                  </button>
                  <button class="btn" type="submit">Save</button>
                </div>
              </div>
            </form> <!-- form -->
          </td></tr>
          {{/challenges}}
        </table>
        <button id="add-challenge" class="btn" onclick="location='add'">
          Add Challenge
        </button>
      </div> <!-- #challenges -->
      <br />
      <form id="change-password" action="/changepass" method="POST">
        <legend>Change Password</legend>
        <fieldset>
          <label for="password">New Password</label>
          <input name="password" type="password" />
          <label for="verify-password">Confirm</label>
          <input name="verify-password" type="password">
          <br />
          <button type="submit" class="btn">Change</button>
        </fieldset>
      </form>
      <br />
      <a href="/logout">Logout</a>
    </div> <!-- #container -->
  </body>
</html>